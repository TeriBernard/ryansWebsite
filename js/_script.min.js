'use strict';var _typeof2='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(b){return typeof b}:function(b){return b&&'function'==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?'symbol':typeof b};(function(b){'use strict';function d(M){if('string'!=typeof M&&(M+=''),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(M))throw new TypeError('Invalid character in header field name');return M.toLowerCase()}function g(M){return'string'!=typeof M&&(M+=''),M}function h(M){var N={next:function next(){var O=M.shift();return{done:void 0===O,value:O}}};return G.iterable&&(N[Symbol.iterator]=function(){return N}),N}function j(M){this.map={},M instanceof j?M.forEach(function(N,O){this.append(O,N)},this):Array.isArray(M)?M.forEach(function(N){this.append(N[0],N[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(N){this.append(N,M[N])},this)}function m(M){return M.bodyUsed?Promise.reject(new TypeError('Already read')):void(M.bodyUsed=!0)}function p(M){return new Promise(function(N,O){M.onload=function(){N(M.result)},M.onerror=function(){O(M.error)}})}function q(M){var N=new FileReader,O=p(N);return N.readAsArrayBuffer(M),O}function v(M){var N=new FileReader,O=p(N);return N.readAsText(M),O}function w(M){for(var N=new Uint8Array(M),O=Array(N.length),P=0;P<N.length;P++)O[P]=String.fromCharCode(N[P]);return O.join('')}function x(M){if(M.slice)return M.slice(0);var N=new Uint8Array(M.byteLength);return N.set(new Uint8Array(M)),N.buffer}function y(){return this.bodyUsed=!1,this._initBody=function(M){if(this._bodyInit=M,!M)this._bodyText='';else if('string'==typeof M)this._bodyText=M;else if(G.blob&&Blob.prototype.isPrototypeOf(M))this._bodyBlob=M;else if(G.formData&&FormData.prototype.isPrototypeOf(M))this._bodyFormData=M;else if(G.searchParams&&URLSearchParams.prototype.isPrototypeOf(M))this._bodyText=M.toString();else if(G.arrayBuffer&&G.blob&&I(M))this._bodyArrayBuffer=x(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else if(G.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(M)||J(M)))this._bodyArrayBuffer=x(M);else throw new Error('unsupported BodyInit type');this.headers.get('content-type')||('string'==typeof M?this.headers.set('content-type','text/plain;charset=UTF-8'):this._bodyBlob&&this._bodyBlob.type?this.headers.set('content-type',this._bodyBlob.type):G.searchParams&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set('content-type','application/x-www-form-urlencoded;charset=UTF-8'))},G.blob&&(this.blob=function(){var M=m(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error('could not read FormData body as blob');else return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?m(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(q)}),this.text=function(){var M=m(this);if(M)return M;if(this._bodyBlob)return v(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(w(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error('could not read FormData body as text');else return Promise.resolve(this._bodyText)},G.formData&&(this.formData=function(){return this.text().then(D)}),this.json=function(){return this.text().then(JSON.parse)},this}function z(M){var N=M.toUpperCase();return-1<K.indexOf(N)?N:M}function B(M,N){N=N||{};var O=N.body;if(M instanceof B){if(M.bodyUsed)throw new TypeError('Already read');this.url=M.url,this.credentials=M.credentials,N.headers||(this.headers=new j(M.headers)),this.method=M.method,this.mode=M.mode,O||null==M._bodyInit||(O=M._bodyInit,M.bodyUsed=!0)}else this.url=M+'';if(this.credentials=N.credentials||this.credentials||'omit',(N.headers||!this.headers)&&(this.headers=new j(N.headers)),this.method=z(N.method||this.method||'GET'),this.mode=N.mode||this.mode||null,this.referrer=null,('GET'===this.method||'HEAD'===this.method)&&O)throw new TypeError('Body not allowed for GET or HEAD requests');this._initBody(O)}function D(M){var N=new FormData;return M.trim().split('&').forEach(function(O){if(O){var P=O.split('='),Q=P.shift().replace(/\+/g,' '),R=P.join('=').replace(/\+/g,' ');N.append(decodeURIComponent(Q),decodeURIComponent(R))}}),N}function E(M){var N=new j,O=M.replace(/\r?\n[\t ]+/g,' ');return O.split(/\r?\n/).forEach(function(P){var Q=P.split(':'),R=Q.shift().trim();if(R){var S=Q.join(':').trim();N.append(R,S)}}),N}function F(M,N){N||(N={}),this.type='default',this.status=N.status===void 0?200:N.status,this.ok=200<=this.status&&300>this.status,this.statusText='statusText'in N?N.statusText:'OK',this.headers=new j(N.headers),this.url=N.url||'',this._initBody(M)}if(!b.fetch){var G={searchParams:'URLSearchParams'in b,iterable:'Symbol'in b&&'iterator'in Symbol,blob:'FileReader'in b&&'Blob'in b&&function(){try{return new Blob,!0}catch(M){return!1}}(),formData:'FormData'in b,arrayBuffer:'ArrayBuffer'in b};if(G.arrayBuffer)var H=['[object Int8Array]','[object Uint8Array]','[object Uint8ClampedArray]','[object Int16Array]','[object Uint16Array]','[object Int32Array]','[object Uint32Array]','[object Float32Array]','[object Float64Array]'],I=function(M){return M&&DataView.prototype.isPrototypeOf(M)},J=ArrayBuffer.isView||function(M){return M&&-1<H.indexOf(Object.prototype.toString.call(M))};j.prototype.append=function(M,N){M=d(M),N=g(N);var O=this.map[M];this.map[M]=O?O+','+N:N},j.prototype['delete']=function(M){delete this.map[d(M)]},j.prototype.get=function(M){return M=d(M),this.has(M)?this.map[M]:null},j.prototype.has=function(M){return this.map.hasOwnProperty(d(M))},j.prototype.set=function(M,N){this.map[d(M)]=g(N)},j.prototype.forEach=function(M,N){for(var O in this.map)this.map.hasOwnProperty(O)&&M.call(N,this.map[O],O,this)},j.prototype.keys=function(){var M=[];return this.forEach(function(N,O){M.push(O)}),h(M)},j.prototype.values=function(){var M=[];return this.forEach(function(N){M.push(N)}),h(M)},j.prototype.entries=function(){var M=[];return this.forEach(function(N,O){M.push([O,N])}),h(M)},G.iterable&&(j.prototype[Symbol.iterator]=j.prototype.entries);var K=['DELETE','GET','HEAD','OPTIONS','POST','PUT'];B.prototype.clone=function(){return new B(this,{body:this._bodyInit})},y.call(B.prototype),y.call(F.prototype),F.prototype.clone=function(){return new F(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new j(this.headers),url:this.url})},F.error=function(){var M=new F(null,{status:0,statusText:''});return M.type='error',M};var L=[301,302,303,307,308];F.redirect=function(M,N){if(-1===L.indexOf(N))throw new RangeError('Invalid status code');return new F(null,{status:N,headers:{location:M}})},b.Headers=j,b.Request=B,b.Response=F,b.fetch=function(M,N){return new Promise(function(O,P){var Q=new B(M,N),R=new XMLHttpRequest;R.onload=function(){var S={status:R.status,statusText:R.statusText,headers:E(R.getAllResponseHeaders()||'')};S.url='responseURL'in R?R.responseURL:S.headers.get('X-Request-URL');var U='response'in R?R.response:R.responseText;O(new F(U,S))},R.onerror=function(){P(new TypeError('Network request failed'))},R.ontimeout=function(){P(new TypeError('Network request failed'))},R.open(Q.method,Q.url,!0),'include'===Q.credentials?R.withCredentials=!0:'omit'===Q.credentials&&(R.withCredentials=!1),'responseType'in R&&G.blob&&(R.responseType='blob'),Q.headers.forEach(function(S,U){R.setRequestHeader(U,S)}),R.send('undefined'==typeof Q._bodyInit?null:Q._bodyInit)})},b.fetch.polyfill=!0}})('undefined'==typeof self?void 0:self),!function(b,d){'object'==('undefined'==typeof exports?'undefined':_typeof2(exports))&&'undefined'!=typeof module?d():'function'==typeof define&&define.amd?define(d):d()}(0,function(){'use strict';function b(){}function d(x){if(!(this instanceof d))throw new TypeError('Promises must be constructed via new');if('function'!=typeof x)throw new TypeError('not a function');this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],p(x,this)}function g(x,y){for(;3===x._state;)x=x._value;0===x._state?x._deferreds.push(y):(x._handled=!0,d._immediateFn(function(){var z=1===x._state?y.onFulfilled:y.onRejected;if(null!==z){var B;try{B=z(x._value)}catch(D){return void j(y.promise,D)}h(y.promise,B)}else(1===x._state?h:j)(y.promise,x._value)}))}function h(x,y){try{if(y===x)throw new TypeError('A promise cannot be resolved with itself.');if(y&&('object'==('undefined'==typeof y?'undefined':_typeof2(y))||'function'==typeof y)){var z=y.then;if(y instanceof d)return x._state=3,x._value=y,void m(x);if('function'==typeof z)return void p(function(B,D){return function(){B.apply(D,arguments)}}(z,y),x)}x._state=1,x._value=y,m(x)}catch(B){j(x,B)}}function j(x,y){x._state=2,x._value=y,m(x)}function m(x){2===x._state&&0===x._deferreds.length&&d._immediateFn(function(){x._handled||d._unhandledRejectionFn(x._value)});for(var y=0,z=x._deferreds.length;z>y;y++)g(x,x._deferreds[y]);x._deferreds=null}function p(x,y){var z=!1;try{x(function(B){z||(z=!0,h(y,B))},function(B){z||(z=!0,j(y,B))})}catch(B){if(z)return;z=!0,j(y,B)}}var q=function(x){var y=this.constructor;return this.then(function(z){return y.resolve(x()).then(function(){return z})},function(z){return y.resolve(x()).then(function(){return y.reject(z)})})},v=setTimeout;d.prototype['catch']=function(x){return this.then(null,x)},d.prototype.then=function(x,y){var z=new this.constructor(b);return g(this,new function(B,D,E){this.onFulfilled='function'==typeof B?B:null,this.onRejected='function'==typeof D?D:null,this.promise=E}(x,y,z)),z},d.prototype['finally']=q,d.all=function(x){return new d(function(y,z){function B(G,H){try{if(H&&('object'==('undefined'==typeof H?'undefined':_typeof2(H))||'function'==typeof H)){var I=H.then;if('function'==typeof I)return void I.call(H,function(J){B(G,J)},z)}D[G]=H,0==--E&&y(D)}catch(J){z(J)}}if(!x||'undefined'==typeof x.length)throw new TypeError('Promise.all accepts an array');var D=Array.prototype.slice.call(x);if(0===D.length)return y([]);for(var E=D.length,F=0;D.length>F;F++)B(F,D[F])})},d.resolve=function(x){return x&&'object'==('undefined'==typeof x?'undefined':_typeof2(x))&&x.constructor===d?x:new d(function(y){y(x)})},d.reject=function(x){return new d(function(y,z){z(x)})},d.race=function(x){return new d(function(y,z){for(var B=0,D=x.length;D>B;B++)x[B].then(y,z)})},d._immediateFn='function'==typeof setImmediate&&function(x){setImmediate(x)}||function(x){v(x,0)},d._unhandledRejectionFn=function(x){void 0!==console&&console&&console.warn('Possible Unhandled Promise Rejection:',x)};var w=function(){if('undefined'!=typeof self)return self;if('undefined'!=typeof window)return window;if('undefined'!=typeof global)return global;throw Error('unable to locate global object')}();w.Promise?w.Promise.prototype['finally']||(w.Promise.prototype['finally']=q):w.Promise=d}),'use strict',Array.from||(Array.from=function(){var b=Object.prototype.toString,d=function(m){return'function'==typeof m||'[object Function]'===b.call(m)},g=function(m){var p=+m;return isNaN(p)?0:0!=p&&isFinite(p)?(0<p?1:-1)*Math.floor(Math.abs(p)):p},h=Math.pow(2,53)-1,j=function(m){var p=g(m);return Math.min(Math.max(p,0),h)};return function(p){var q=this,v=Object(p);if(null==p)throw new TypeError('Array.from requires an array-like object - not null or undefined');var x,w=1<arguments.length?arguments[1]:void 0;if('undefined'!=typeof w){if(!d(w))throw new TypeError('Array.from: when provided, the second argument must be a function');2<arguments.length&&(x=arguments[2])}for(var D,y=j(v.length),z=d(q)?Object(new q(y)):Array(y),B=0;B<y;)D=v[B],z[B]=w?'undefined'==typeof x?w(D,B):w.call(x,D,B):D,B+=1;return z.length=y,z}}());function _toConsumableArray(b){if(Array.isArray(b)){for(var d=0,g=Array(b.length);d<b.length;d++)g[d]=b[d];return g}return Array.from(b)}window.addEventListener('DOMContentLoaded',initStuff);function initStuff(){var b=[].concat(_toConsumableArray(document.getElementsByClassName('ezee-image-switcher')));if(0<b.length)for(var d=0;d<b.length;d++)createSwitcher(b[d])}function createSwitcher(b){b.className+='  e-i-s';var d=document.createElement('a');d.className+=' switch-trigger',b.appendChild(d);for(var g=[].concat(_toConsumableArray(b.getElementsByTagName('img'))),h=0;h<g.length;h++){var j=g[h],m=document.createElement('div');m.classList.add('img-wrapper'),0===h?m.classList.add('before'):m.classList.add('after'),m.appendChild(j),b.appendChild(m)}for(var p=0;2>p;p++){var q=document.createElement('div'),v=document.createElement('span'),w='',x='';0===p?(w=' arrow-back trigger',x='fas fa-share'):(w=' arrow-back revert',x='fas fa-reply'),q.className+=w,v.className+=x,q.appendChild(v),b.appendChild(q)}var y=document.createElement('a');y.className+='revert-trigger',b.appendChild(y)}function initAjaxFormHandlers(){for(var b=document.getElementsByClassName('ezee-ajax-form'),d=0;d<b.length;d++)b[d].addEventListener('submit',ezeeAjaxFormSubmit)}function ezeeAjaxFormSubmit(b){var d;if(b.target)d=b.target;else{if(!b.srcElement)return void console('Couldn\'t find form element from event.');d=b.srcElement}b.preventDefault(),d.method='post';var g=d.getAttribute('onsubmit'),h=ezeeValsToObj(d);window[g](h,d)}function ezeeValsToObj(b){for(var j,d=b.elements,g={},h=0;h<d.length;h++)j=d[h],j.value&&(j.name?j.name:j.id?j.id:('no-name-please-set-name',alert('No \'name\' set on input. See console.'),console.log('No \'name\' attribute set on element with value: ',j.value)),g[j.name]=j.value);return g}window.addEventListener('DOMContentLoaded',initAjaxFormHandlers);var defaultEmailValFormats={name:'text',email:'email',phone:'phone',message:'text'};function prepJsonWithDefaultFormat(b){for(var j,d=Object.keys(b),g={},h=0;h<d.length;h++)j=d[h],g[j]=defaultEmailValFormats[j]?{value:b[j],format:defaultEmailValFormats[j]}:b[j];return g}function emailAjaxData(b){var d=JSON.stringify(b);return fetch(url,{method:'POST',body:d,headers:{'Content-Type':'application/json'}}).then(function(g){return g.json()})}var _typeof='function'==typeof Symbol&&'symbol'===_typeof2(Symbol.iterator)?function(b){return'undefined'==typeof b?'undefined':_typeof2(b)}:function(b){return b&&'function'==typeof Symbol&&b.constructor===Symbol&&b!==Symbol.prototype?'symbol':'undefined'==typeof b?'undefined':_typeof2(b)},url='./ezee-ajax-emailer/send-email.php';function handleContactForm(b){var g='fade-reveal',h=document.getElementById('contact-status-fail'),j=document.getElementById('contact-form-block'),m=document.getElementById('form-invite-text'),p=document.getElementById('contact-submit-btn'),q=document.getElementById('contact-status-loading');p.disabled='disabled',j.classList.remove(g),m.classList.remove(g),h.classList.remove(g),q.classList.add(g);var v=prepJsonWithDefaultFormat(b);emailAjaxData(v).then(function(w){if(q.classList.remove(g),null===w||'object'!==('undefined'==typeof w?'undefined':_typeof(w))||!w.status)throw console.log(w),Error('Got invalid JSend');else if('success'===w.status){var x=document.getElementById('contact-status-success'),y=document.getElementById('sent-name').innerHTML=w.data.sanitized.name,z=document.getElementById('sent-phone').innerHTML=w.data.sanitized.phone,B=document.getElementById('sent-email').innerHTML=w.data.sanitized.email;x.classList.add(g)}else if('fail'===w.status){if(w.data&&w.data.failed){var D=document.getElementById('contact-name'),E=document.getElementById('contact-phone'),F=document.getElementById('contact-email'),G=w.data.failed;setInvalid(G.name,D),setInvalid(G.phone,E),setInvalid(G.email,F)}p.disabled=!1,j.classList.add(g),h.classList.add(g)}else{if(!w.message)throw Error('Status not \'success\' or \'fail\', but no \'message\' in object');throw Error(w.message)}}).catch(function(w){console.log(w.message),q.classList.remove(g);var x=document.getElementById('contact-status-error');x.classList.add(g)})}function setInvalid(b,d){var g='invalid-input';b?d.classList.add(g):d.classList.remove(g)}